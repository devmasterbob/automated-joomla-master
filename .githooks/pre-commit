#!/bin/bash
# Git pre-commit hook to protect .env-example

echo "üîí Checking .env-example before commit..."

if [ -f ".env-example" ]; then
    if grep -q "PROJECT_NAME=\${CURRENT_FOLDER}" ".env-example"; then
        echo "‚úÖ .env-example is protected"
        exit 0
    else
        echo "‚ùå ERROR: .env-example is corrupted!"
        echo "   PROJECT_NAME must be: \${CURRENT_FOLDER}"
        echo "   Run: .\check-env-example.ps1 to fix"
        exit 1
    fi
else
    echo "‚ùå ERROR: .env-example not found!"
    exit 1
fi
